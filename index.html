<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>
      Cuộc Thi Trực Tuyến Tìm Hiểu 90 Năm Hình Thành, Xây Dựng, Phát Triển Của
      Đảng Bộ Thành Phố Tuy Hòa
    </title>
    <style>
      body {
        background: url("https://cdn.glitch.com/a3d37faa-5bef-43da-8d33-45ad1c6ca7b1%2F11_a.png?v=1631630792462")
          no-repeat center center fixed;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background-repeat: no-repeat;
        background-size: cover;
        padding: 0;
        margin: 0;
      }

      .start {
        width: 700px;
        padding: 20px;
        border: 1px solid black;
        border-radius: 20px;
        background: rgba(255, 255, 255, 0.7);
      }

      .start h1 {
        text-align: center;
      }

      .options {
        display: flex;
        flex-direction: column;
      }

      .content h1 {
        border: 2px solid black;
        padding-left: 10px;
        padding-right: 10px;
      }

      .options button {
        text-align: left;
        padding: 10px 10px 10px 10px;
        margin-top: 5px;
        margin-bottom: 5px;
        background: white;
      }

      .content {
        width: 700px;
      }

      .content h3.point {
        width: 500px;
        height: 20px;
        text-align: center;
        position: absolute;
        line-height: 20px;
        left: calc(50vw - 250px);
        top: calc(50vh - 10px);
      }

      form {
        width: 400px;
        background: rgba(255, 255, 255, 0.8);
        border: 2px solid black;
        border-radius: 20px;
        padding: 20px 20px 20px 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      form input[type="submit"] {
        margin-top: 20px;
      }

      .continue_div {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .start #continue {
        padding: 5px 5px 5px 5px;
        border: 1px solid black;
        border-radius: 7px;
      }

      .content {
        background: rgba(255, 255, 255, 0.8);
        border: 2px solid black;
        padding: 20px;
        border-radius: 20px;
      }

      #question {
        font-size: 25px;
        padding: 5px 5px 5px 5px;
      }
    </style>

    <script type="text/javascript">
      //<![CDATA[
      // JavaScript Document
      var message = "NoRightClicking";
      function defeatIE() {
        if (document.all) {
          message;
          return false;
        }
      }
      function defeatNS(e) {
        if (document.layers || (document.getElementById && !document.all)) {
          if (e.which == 2 || e.which == 3) {
            message;
            return false;
          }
        }
      }
      if (document.layers) {
        document.captureEvents(Event.MOUSEDOWN);
        document.onmousedown = defeatNS;
      } else {
        document.onmouseup = defeatNS;
        document.oncontextmenu = defeatIE;
      }
      document.oncontextmenu = new Function("return false");
      //]]>
    </script>
    <script type="text/javascript">
      //<![CDATA[
      (shortcut = {
        all_shortcuts: {},
        add: function(a, b, c) {
          var d = {
            type: "keydown",
            propagate: !1,
            disable_in_input: !1,
            target: document,
            keycode: !1
          };
          if (c) for (var e in d) "undefined" == typeof c[e] && (c[e] = d[e]);
          else c = d;
          (d = c.target),
            "string" == typeof c.target &&
              (d = document.getElementById(c.target)),
            (a = a.toLowerCase()),
            (e = function(d) {
              d = d || window.event;
              if (c.disable_in_input) {
                var e;
                d.target ? (e = d.target) : d.srcElement && (e = d.srcElement),
                  3 == e.nodeType && (e = e.parentNode);
                if ("INPUT" == e.tagName || "TEXTAREA" == e.tagName) return;
              }
              d.keyCode ? (code = d.keyCode) : d.which && (code = d.which),
                (e = String.fromCharCode(code).toLowerCase()),
                188 == code && (e = ","),
                190 == code && (e = ".");
              var f = a.split("+"),
                g = 0,
                h = {
                  "`": "~",
                  1: "!",
                  2: "@",
                  3: "#",
                  4: "$",
                  5: "%",
                  6: "^",
                  7: "&",
                  8: "*",
                  9: "(",
                  0: ")",
                  "-": "_",
                  "=": "+",
                  ";": ":",
                  "'": '"',
                  ",": "<",
                  ".": ">",
                  "/": "?",
                  "\\": "|"
                },
                i = {
                  esc: 27,
                  escape: 27,
                  tab: 9,
                  space: 32,
                  return: 13,
                  enter: 13,
                  backspace: 8,
                  scrolllock: 145,
                  scroll_lock: 145,
                  scroll: 145,
                  capslock: 20,
                  caps_lock: 20,
                  caps: 20,
                  numlock: 144,
                  num_lock: 144,
                  num: 144,
                  pause: 19,
                  break: 19,
                  insert: 45,
                  home: 36,
                  delete: 46,
                  end: 35,
                  pageup: 33,
                  page_up: 33,
                  pu: 33,
                  pagedown: 34,
                  page_down: 34,
                  pd: 34,
                  left: 37,
                  up: 38,
                  right: 39,
                  down: 40,
                  f1: 112,
                  f2: 113,
                  f3: 114,
                  f4: 115,
                  f5: 116,
                  f6: 117,
                  f7: 118,
                  f8: 119,
                  f9: 120,
                  f10: 121,
                  f11: 122,
                  f12: 123
                },
                j = !1,
                l = !1,
                m = !1,
                n = !1,
                o = !1,
                p = !1,
                q = !1,
                r = !1;
              d.ctrlKey && (n = !0),
                d.shiftKey && (l = !0),
                d.altKey && (p = !0),
                d.metaKey && (r = !0);
              for (var s = 0; (k = f[s]), s < f.length; s++)
                "ctrl" == k || "control" == k
                  ? (g++, (m = !0))
                  : "shift" == k
                  ? (g++, (j = !0))
                  : "alt" == k
                  ? (g++, (o = !0))
                  : "meta" == k
                  ? (g++, (q = !0))
                  : 1 < k.length
                  ? i[k] == code && g++
                  : c.keycode
                  ? c.keycode == code && g++
                  : e == k
                  ? g++
                  : h[e] && d.shiftKey && ((e = h[e]), e == k && g++);
              if (
                g == f.length &&
                n == m &&
                l == j &&
                p == o &&
                r == q &&
                (b(d), !c.propagate)
              )
                return (
                  (d.cancelBubble = !0),
                  (d.returnValue = !1),
                  d.stopPropagation &&
                    (d.stopPropagation(), d.preventDefault()),
                  !1
                );
            }),
            (this.all_shortcuts[a] = { callback: e, target: d, event: c.type }),
            d.addEventListener
              ? d.addEventListener(c.type, e, !1)
              : d.attachEvent
              ? d.attachEvent("on" + c.type, e)
              : (d["on" + c.type] = e);
        },
        remove: function(a) {
          var a = a.toLowerCase(),
            b = this.all_shortcuts[a];
          delete this.all_shortcuts[a];
          if (b) {
            var a = b.event,
              c = b.target,
              b = b.callback;
            c.detachEvent
              ? c.detachEvent("on" + a, b)
              : c.removeEventListener
              ? c.removeEventListener(a, b, !1)
              : (c["on" + a] = !1);
          }
        }
      }),
        shortcut.add("Ctrl+U", function() {
          top.location.href = "https://www.youtube.com/";
        }),
        shortcut.add("F12", function() {
          top.location.href = "https://www.youtube.com/";
        }),
        shortcut.add("Ctrl+Shift+I", function() {
          top.location.href = "https://www.youtube.com/";
        }),
        shortcut.add("Ctrl+S", function() {
          top.location.href = "https://www.youtube.com/";
        }),
        shortcut.add("Ctrl+Shift+C", function() {
          top.location.href = "https://www.youtube.com/";
        });
      //]]>
    </script>
  </head>
  <body>
    <div class="start" onkeydown="return false">
      <h1>
        Chặng 2: Từ ngày 01/10/2021 đến ngày 15/10/2021
      </h1>
      <div class="continue_div">
        <button id="continue">
          Bắt đầu
        </button>
      </div>
    </div>
    <div class="information" hidden>
      <form id="user_information">
        <div>
          <div>
            Họ và tên:
          </div>
          <input id="user_name" required />
        </div>
        <div>
          <div>
            Số điện thoại:
          </div>
          <input id="user_tel_num" type="tel" required />
        </div>
        <div>
          <div>
            Đơn vị:
          </div>
          <input id="user_address" required />
        </div>
        <div>
          <div>
            Địa chỉ liên hệ:
          </div>
          <input id="user_ress" required />
        </div>
        <div>
          <div>
            Dự đoán số lượt tham gia:
          </div>
          <input id="user_prediction" required />
        </div>
        <input type="submit" value="Tham gia cuộc thi" />
      </form>
    </div>
    <div class="content" hidden>
      <h3>Thời gian: <span id="time"></span></h3>
      <h1 id="question">
        askdjf polasdmfljfkolasd + jksdlfajfldsa = ?
      </h1>
      <div class="options">
        <button id="ans_1">
          A. 34oit0234u8t903u8i4560
        </button>
        <button id="ans_2">
          B. o0-2w3e4irt90-234it0-3
        </button>
        <button id="ans_3">
          C. 2i034ur0f234j890rt2834
        </button>
        <button id="ans_4">
          D. 90234o8irv90w34j8tv903
        </button>
      </div>
      <h3 id="point">
        awsdjikfkolajdfklasd: 0/10
      </h3>
    </div>
    <script>
      const questions = [
        {
          title:
            "Câu 1: Chi bộ thị xã Tuy Hòa (nay là Thành phố) được kiện toàn và củng cố sau Đại hội tại .... (1953). Đồng chí .... được bầu làm Bí thư kiêm Chủ tịch ủy ban hành chính kháng chiến",
          answer1: "Chùa Ông (Nhạn Tháp), Đồng chí Lương Bổ",
          answer2: "Chùa Ông (Nhạn Tháp), Đồng chí Ngô Giàu",
          answer3: "Chùa Bà (Nhạn Tháp), Đồng chí Lương Bổ",
          answer4: "Chùa Tàu (Nhạn Tháp), Đồng chí Lương Bổ",
          answer: 0
        },
        {
          title:
            "Câu 2: Tháng 8/1954, trong hoàn cảnh địch khủng bố vây ráp gắt gao, hội nghị Tỉnh ủy Phú Yên đã khẩn trương họp triển khai chủ trương của Trung ương Đảng và Liên khu ủy V vào các ngày nào ?",
          answer1: "Ngày 10",
          answer2: "Ngày 10 và 11",
          answer3: "Ngày 10, 11 và 12",
          answer4: "Ngày 10, 11, 12 và 13",
          answer: 1
        },
        {
          title:
            "Câu 3: Sau hội nghị Tỉnh ủy ngày 10, 11/8/1955 Tỉnh ủy phân công đồng chí nào về chỉ đạo phong trào thị xã Tuy Hòa ?",
          answer1: "Lê Văn Thành và Lê Đài",
          answer2: "Lê Duy Hình và Lê Đài",
          answer3: "Lê Văn Thành và Lê Duy Hình",
          answer4: "Lê Đài và Văn Gói",
          answer: 2
        },
        {
          title:
            "Câu 4: Đầu tháng 8/1954 đồng chí Lê Đài, Phó Bí thư Tỉnh ủy Phú Yên và đồng chí Văn Gói, Bí thư Huyện ủy Tuy Hòa 1 về truyền đạt tinh thần Hiệp định Giơnevơ và chủ trương của Tỉnh ủy cho cán bộ chủ chốt các xã của huyện Tuy Hòa 2 tại địa điểm nào ?",
          answer1: "Gộp Đá Bãi Tiên (Hòa Xuân)",
          answer2: "Gò Sân (xã Hòa Quang)",
          answer3: "Phụng Tường (Hòa Trị)",
          answer4: "Núi Sầm (Hòa Trị)",
          answer: 1
        },
        {
          title:
            "Câu 5: Tỉnh ủy Phú Yên đã chỉ thị cho những đảng viên trung kiên trong nhà lao Ngọc Lãng thành lập chi bộ Đảng để phát động cuộc đấu tranh trong tù hỗ trợ cho phong trào bên ngoài và giữ vững khí tiết người cộng sản trước sự tra tấn của địch vào tháng năm nào ?",
          answer1: "Tháng 1/1955",
          answer2: "Tháng 3/1957",
          answer3: "Tháng 3/1955",
          answer4: "Tháng 1/1957",
          answer: 0
        },
        {
          title:
            "Câu 6: Huyện ủy đầu tiên ở Tuy Hòa được lập lại trong cuộc kháng chiến chống Mỹ cứu nước tại Gộp Đá Bãi Tiên (Hòa Xuân), đồng chí Nguyễn Đình Thành được cử làm bí thư và đồng chí Nguyễn Kiết làm Phó Bí thư Huyện ủy vào ngày tháng năm nào ?",
          answer1: "10/4/1956",
          answer2: "12/4/1955",
          answer3: "10/4/1955",
          answer4: "12/4/1956",
          answer: 2
        },
        {
          title:
            "Câu 7: Luật sư Nguyễn Hữu Thọ được giải thoát tại nơi quản chế ở Thị xã Tuy Hòa trở về căn cứ an toàn vào thời gian nào ?",
          answer1: "Ngày 29/10/1960",
          answer2: "Ngày 29/10/1961",
          answer3: "Ngày 30/10/1960",
          answer4: "Ngày 30/10/1961",
          answer: 3
        },
        {
          title:
            "Câu 8: Để góp phần đánh bại chiến dịch “Hải Yến” của địch, sau khi được các cơ sở bí mật cung cấp tài liệu về hệ thống phòng thủ của địch ở sân bay, tổ đặc công gồm các đồng chí Ngô Xuân, đồng chí Trung và đồng chí Kiên đã bí mật dùng mìn hẹn giờ phá tan Ty công chánh của địch. Đây là chiến công to lớn của quân và dân thị xã Tuy Hòa. Sự kiện này diễn ra tháng, năm nào ?",
          answer1: "Tháng 5/1962",
          answer2: "Tháng 6/1962",
          answer3: "Tháng 7/1962",
          answer4: "Tháng 8/1962",
          answer: 1
        },
        {
          title:
            "Câu 9: Đến ngày 30/5/1962 quận Tuy Hòa dự định xây dựng 30 ấp chiến lược nhưng mới hoàn thành được bao nhiêu ấp ?",
          answer1: "1 ấp",
          answer2: "2 ấp",
          answer3: "3 ấp",
          answer4: "4 ấp",
          answer: 1
        },
        {
          title:
            "Câu 10: Phong trào cách mạng dần dần hồi phục trên phạm vi toàn tỉnh và có những chuyển biến, đồng chí Nguyễn Quốc Thoại ở làng Phước Hậu đã thành lập chi bộ gồm có 3 đồng chí: Nguyễn Quốc Thoại, Nguyễn Chấn, Đỗ Tương, đồng chí Nguyễn Quốc Thoại được phân công làm bí thư chi bộ vào năm bao nhiêu ?",
          answer1: "Cuối năm 1933",
          answer2: "Đầu năm 1934",
          answer3: "Cuối năm 1935",
          answer4: "Đầu năm 1936",
          answer: 2
        },
        {
          title:
            "Câu 11: Mục tiêu tổng quát: “Tăng cường xây dựng, chỉnh đốn Đảng; nâng cao hiệu lực, hiệu quả hoạt động của hệ thống chính trị; phát huy sức mạnh đoàn kết toàn dân; bảo đảm quốc phòng - an ninh; đẩy mạnh đổi mới, sáng tạo, khai thác hiệu quả tiềm năng, lợi thế để phát triển nhanh và bền vững; nâng cao chất lượng cuộc sống của nhân dân; phấn đấu xây dựng thành phố Tuy Hòa thành đô thị loại I trực thuộc Tỉnh trước năm 2025”. Nêu ở Đại hội Đảng bộ Thành phố lần thứ mấy ? ",
          answer1: "Đại hội lần thứ XIII nhiệm kỳ 2005-2010",
          answer2: "Đại hội lần thứ XIV nhiệm kỳ 2010-2015",
          answer3: "Đại hội lần thứ XV nhiệm kỳ 2015-2020",
          answer4: "Đại hội lần thứ XVI nhiệm kỳ 2020-2025",
          answer: 3
        },
        {
          title:
            "Câu 12: Đánh bại chiến dịch Át Lăng là thắng lợi to lớn và quan trọng của quân và dân Tuy Hòa, Phú Yên trong kháng chiến chống Pháp, góp phần xứng đáng vào thắng lợi chung của cả nước và khu vực Nam Trung Bộ trong bao nhiêu năm ? ",
          answer1: "6",
          answer2: "7",
          answer3: "8",
          answer4: "9",
          answer: 3
        },
        {
          title:
            "Câu 13: Hiệp định đình chiến lập lại hòa bình ở Đông Dương được ký kết tại Giơnevơ vào ngày tháng năm nào ?",
          answer1: "20/6/1954",
          answer2: "20/7/1954",
          answer3: "20/8/1954",
          answer4: "20/9/1954",
          answer: 1
        },
        {
          title:
            "Câu 14: Thời điểm nào mà Ủy ban nhân dân cách mạng lâm thời phủ Tuy Hòa được thành lập, do đồng chí Trần Suyền làm chủ tịch và Ủy ban nhân dân cách mạng lâm thời thị xã Tuy Hòa do đồng chí Lê Văn Phú làm Chủ tịch ?",
          answer1: "31/8/1945",
          answer2: "30/7/1945",
          answer3: "29/6/1945",
          answer4: "28/5/1945",
          answer: 0
        },
        {
          title:
            "Câu 15: Tháng 10/1947 Đại hội Đảng bộ Tuy Hòa được tổ chức tại làng Nho Lâm (Hòa Quang). Đại hội đã bầu ban chấp hành mới gồm 11 đồng chí: Trần Châu, Đào Tấn Ngoạn, Nguyễn Cảng, Kiều Đức Định, Lê Thứ, Lê Tấn Thăng, Nguyễn Chính, Phạm Ngọc Quế, Phan Lượng, Nguyễn Tuấn, Văn Gói. Đạo hội bầu đồng chí ... làm Bí thư",
          answer1: "Đào Tấn Ngoạn",
          answer2: "Trần Châu",
          answer3: "Lê Tấn Thăng",
          answer4: "Phạm Ngọc Quế",
          answer: 1
        }
      ];

      const startScreen = document.querySelector(".start");
      const informationScreen = document.querySelector(".information");
      const quizScreen = document.querySelector(".content");

      const continueElement = document.querySelector("#continue");
      continueElement.addEventListener("click", () => {
        startScreen.hidden = true;
        informationScreen.hidden = false;
      });

      let names = "";
      let tel_num = "";
      let address = "";
      let prediction = "";
      let ress = "";

      const formElement = document.querySelector("#user_information");
      formElement.addEventListener("submit", event => {
        event.preventDefault();
        const nameElement = document.querySelector("#user_name");
        const telNumElement = document.querySelector("#user_tel_num");
        const addressElement = document.querySelector("#user_address");
        const ressElement = document.querySelector("#user_ress");
        const predictionElement = document.querySelector("#user_prediction");

        names = nameElement.value;
        tel_num = telNumElement.value;
        address = addressElement.value;
        prediction = predictionElement.value;
        ress = ressElement.value;

        informationScreen.hidden = true;
        quizScreen.hidden = false;

        quiz();
      });

      let score = 0;
      let time = 0;

      const quiz = () => {
        const questionElement = document.querySelector("#question");
        const answer1Element = document.querySelector("#ans_1");
        const answer2Element = document.querySelector("#ans_2");
        const answer3Element = document.querySelector("#ans_3");
        const answer4Element = document.querySelector("#ans_4");
        const pointElement = document.querySelector("#point");
        const timeElement = document.querySelector("#time");

        const startTime = (Date.now() / 1000) | 0;

        const displayTime = () => {
          const currentTime = (Date.now() / 1000) | 0;

          const secondsElapsed = currentTime - startTime;
          time = secondsElapsed;

          const seconds = secondsElapsed % 60;
          const minutes = (secondsElapsed / 60) | 0;

          if (minutes > 0)
            timeElement.textContent = `${minutes} phút ${seconds} giây`;
          else timeElement.textContent = `${seconds} giây`;
        };

        const interval = setInterval(displayTime, 1000);
        displayTime();

        let questionNumber = 0;

        const displayQuestion = question => {
          questionElement.textContent = question.title;
          answer1Element.textContent = "A. " + question.answer1;
          answer2Element.textContent = "B. " + question.answer2;
          answer3Element.textContent = "C. " + question.answer3;
          answer4Element.textContent = "D. " + question.answer4;

          const accepted = () => {
            score++;
            nextQuestion();
          };

          const wrongAnswerOnTest2 = () => {
            nextQuestion();
          };

          const handleAnswer1 = () => {
            if (question.answer === 0) {
              accepted();
            } else {
              wrongAnswerOnTest2();
            }
          };

          const handleAnswer2 = () => {
            if (question.answer === 1) {
              accepted();
            } else {
              wrongAnswerOnTest2();
            }
          };

          const handleAnswer3 = () => {
            if (question.answer === 2) {
              accepted();
            } else {
              wrongAnswerOnTest2();
            }
          };

          const handleAnswer4 = () => {
            if (question.answer === 3) {
              accepted();
            } else {
              wrongAnswerOnTest2();
            }
          };

          const nextQuestion = () => {
            answer1Element.removeEventListener("click", handleAnswer1);
            answer2Element.removeEventListener("click", handleAnswer2);
            answer3Element.removeEventListener("click", handleAnswer3);
            answer4Element.removeEventListener("click", handleAnswer4);

            questionNumber++;

            if (questionNumber === questions.length) {
              questionElement.remove();
              answer1Element.remove();
              answer2Element.remove();
              answer3Element.remove();
              answer4Element.remove();

              pointElement.hidden = false;
              pointElement.textContent = `Bạn đã đạt được ${score}/${questions.length} điểm. Cảm ơn bạn đã tham gia cuộc thi.`;

              clearInterval(interval);

              sendData();
              return;
            }

            displayQuestion(questions[questionNumber]);
          };

          answer1Element.addEventListener("click", handleAnswer1);
          answer2Element.addEventListener("click", handleAnswer2);
          answer3Element.addEventListener("click", handleAnswer3);
          answer4Element.addEventListener("click", handleAnswer4);

          pointElement.hidden = true;
        };

        displayQuestion(questions[0]);
      };

      const sendData = () => {
        const urlObject = new URL(
          "https://script.google.com/macros/s/AKfycbxmj_nZgvI2pmjQFSrUNQL07dWUdgQGBbsH3TH5bTnKUMD9VE3Hhxv0O1Vii_1eGYKL/exec"
        );
        const urObject = new URL(
          "https://script.google.com/macros/s/AKfycbyT-8aO_TZ4WRqqQxihWH7b8LS4-EcKJ5z50cu7_Qjkix26x7w93hsFr0_5sV9pOcwy/exec"
        );

        urlObject.searchParams.set("names", names);
        urlObject.searchParams.set("tel_num", tel_num);
        urlObject.searchParams.set("address", address);
        urlObject.searchParams.set("ress", ress);
        urlObject.searchParams.set("prediction", prediction);
        urlObject.searchParams.set("score", score);
        urlObject.searchParams.set("time", time);

        urObject.searchParams.set("names", names);
        urObject.searchParams.set("tel_num", tel_num);
        urObject.searchParams.set("address", address);
        urObject.searchParams.set("ress", ress);
        urObject.searchParams.set("prediction", prediction);
        urObject.searchParams.set("score", score);
        urObject.searchParams.set("time", time);

        fetch(urlObject.toString());
        fetch(urObject.toString());
      };
    </script>
  </body>
</html>
