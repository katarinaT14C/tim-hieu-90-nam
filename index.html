<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>
      Cuộc Thi Trực Tuyến Tìm Hiểu 90 Năm Hình Thành, Xây Dựng, Phát Triển Của
      Đảng Bộ Thành Phố Tuy Hòa
    </title>
    <style>
      body {
        background: url("https://cdn.glitch.com/a3d37faa-5bef-43da-8d33-45ad1c6ca7b1%2F11_a.png?v=1631630792462")
          no-repeat center center fixed;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background-repeat: no-repeat;
        background-size: cover;
        padding: 0;
        margin: 0;
      }

      .start {
        width: 700px;
        padding: 20px;
        border: 1px solid black;
        border-radius: 20px;
        background: rgba(255, 255, 255, 0.7);
      }

      .start h1 {
        text-align: center;
      }

      .options {
        display: flex;
        flex-direction: column;
      }

      .content h1 {
        border: 2px solid black;
        padding-left: 10px;
        padding-right: 10px;
      }

      .options button {
        text-align: left;
        padding: 10px 10px 10px 10px;
        margin-top: 5px;
        margin-bottom: 5px;
        background: white;
      }

      .content {
        width: 700px;
      }

      .content h3.point {
        width: 500px;
        height: 20px;
        text-align: center;
        position: absolute;
        line-height: 20px;
        left: calc(50vw - 250px);
        top: calc(50vh - 10px);
      }

      form {
        width: 400px;
        background: rgba(255, 255, 255, 0.8);
        border: 2px solid black;
        border-radius: 20px;
        padding: 20px 20px 20px 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      form input[type="submit"] {
        margin-top: 20px;
      }

      .continue_div {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .start #continue {
        padding: 5px 5px 5px 5px;
        border: 1px solid black;
        border-radius: 7px;
      }

      .content {
        background: rgba(255, 255, 255, 0.8);
        border: 2px solid black;
        padding: 20px;
        border-radius: 20px;
      }

      #question {
        font-size: 25px;
        padding: 5px 5px 5px 5px;
      }
    </style>

    <script type="text/javascript">
      //<![CDATA[
      // JavaScript Document
      var message = "NoRightClicking";
      function defeatIE() {
        if (document.all) {
          message;
          return false;
        }
      }
      function defeatNS(e) {
        if (document.layers || (document.getElementById && !document.all)) {
          if (e.which == 2 || e.which == 3) {
            message;
            return false;
          }
        }
      }
      if (document.layers) {
        document.captureEvents(Event.MOUSEDOWN);
        document.onmousedown = defeatNS;
      } else {
        document.onmouseup = defeatNS;
        document.oncontextmenu = defeatIE;
      }
      document.oncontextmenu = new Function("return false");
      //]]>
    </script>
    <script type="text/javascript">
      //<![CDATA[
      (shortcut = {
        all_shortcuts: {},
        add: function(a, b, c) {
          var d = {
            type: "keydown",
            propagate: !1,
            disable_in_input: !1,
            target: document,
            keycode: !1
          };
          if (c) for (var e in d) "undefined" == typeof c[e] && (c[e] = d[e]);
          else c = d;
          (d = c.target),
            "string" == typeof c.target &&
              (d = document.getElementById(c.target)),
            (a = a.toLowerCase()),
            (e = function(d) {
              d = d || window.event;
              if (c.disable_in_input) {
                var e;
                d.target ? (e = d.target) : d.srcElement && (e = d.srcElement),
                  3 == e.nodeType && (e = e.parentNode);
                if ("INPUT" == e.tagName || "TEXTAREA" == e.tagName) return;
              }
              d.keyCode ? (code = d.keyCode) : d.which && (code = d.which),
                (e = String.fromCharCode(code).toLowerCase()),
                188 == code && (e = ","),
                190 == code && (e = ".");
              var f = a.split("+"),
                g = 0,
                h = {
                  "`": "~",
                  1: "!",
                  2: "@",
                  3: "#",
                  4: "$",
                  5: "%",
                  6: "^",
                  7: "&",
                  8: "*",
                  9: "(",
                  0: ")",
                  "-": "_",
                  "=": "+",
                  ";": ":",
                  "'": '"',
                  ",": "<",
                  ".": ">",
                  "/": "?",
                  "\\": "|"
                },
                i = {
                  esc: 27,
                  escape: 27,
                  tab: 9,
                  space: 32,
                  return: 13,
                  enter: 13,
                  backspace: 8,
                  scrolllock: 145,
                  scroll_lock: 145,
                  scroll: 145,
                  capslock: 20,
                  caps_lock: 20,
                  caps: 20,
                  numlock: 144,
                  num_lock: 144,
                  num: 144,
                  pause: 19,
                  break: 19,
                  insert: 45,
                  home: 36,
                  delete: 46,
                  end: 35,
                  pageup: 33,
                  page_up: 33,
                  pu: 33,
                  pagedown: 34,
                  page_down: 34,
                  pd: 34,
                  left: 37,
                  up: 38,
                  right: 39,
                  down: 40,
                  f1: 112,
                  f2: 113,
                  f3: 114,
                  f4: 115,
                  f5: 116,
                  f6: 117,
                  f7: 118,
                  f8: 119,
                  f9: 120,
                  f10: 121,
                  f11: 122,
                  f12: 123
                },
                j = !1,
                l = !1,
                m = !1,
                n = !1,
                o = !1,
                p = !1,
                q = !1,
                r = !1;
              d.ctrlKey && (n = !0),
                d.shiftKey && (l = !0),
                d.altKey && (p = !0),
                d.metaKey && (r = !0);
              for (var s = 0; (k = f[s]), s < f.length; s++)
                "ctrl" == k || "control" == k
                  ? (g++, (m = !0))
                  : "shift" == k
                  ? (g++, (j = !0))
                  : "alt" == k
                  ? (g++, (o = !0))
                  : "meta" == k
                  ? (g++, (q = !0))
                  : 1 < k.length
                  ? i[k] == code && g++
                  : c.keycode
                  ? c.keycode == code && g++
                  : e == k
                  ? g++
                  : h[e] && d.shiftKey && ((e = h[e]), e == k && g++);
              if (
                g == f.length &&
                n == m &&
                l == j &&
                p == o &&
                r == q &&
                (b(d), !c.propagate)
              )
                return (
                  (d.cancelBubble = !0),
                  (d.returnValue = !1),
                  d.stopPropagation &&
                    (d.stopPropagation(), d.preventDefault()),
                  !1
                );
            }),
            (this.all_shortcuts[a] = { callback: e, target: d, event: c.type }),
            d.addEventListener
              ? d.addEventListener(c.type, e, !1)
              : d.attachEvent
              ? d.attachEvent("on" + c.type, e)
              : (d["on" + c.type] = e);
        },
        remove: function(a) {
          var a = a.toLowerCase(),
            b = this.all_shortcuts[a];
          delete this.all_shortcuts[a];
          if (b) {
            var a = b.event,
              c = b.target,
              b = b.callback;
            c.detachEvent
              ? c.detachEvent("on" + a, b)
              : c.removeEventListener
              ? c.removeEventListener(a, b, !1)
              : (c["on" + a] = !1);
          }
        }
      }),
        shortcut.add("Ctrl+U", function() {
          top.location.href = "https://www.youtube.com/";
        }),
        shortcut.add("F12", function() {
          top.location.href = "https://www.youtube.com/";
        }),
        shortcut.add("Ctrl+Shift+I", function() {
          top.location.href = "https://www.youtube.com/";
        }),
        shortcut.add("Ctrl+S", function() {
          top.location.href = "https://www.youtube.com/";
        }),
        shortcut.add("Ctrl+Shift+C", function() {
          top.location.href = "https://www.youtube.com/";
        });
      //]]>
    </script>
  </head>
  <body>
    <div class="start" onkeydown="return false">
      <h1>
        Chặng 3: Từ ngày 16/10/2021 đến ngày 31/10/2021
      </h1>
      <div class="continue_div">
        <button id="continue">
          Bắt đầu
        </button>
      </div>
    </div>
    <div class="information" hidden>
      <form id="user_information">
        
        <div>
          <div>
            Họ và tên:
          </div>
          <input id="user_name" required />
        </div>
        
        <div>
          <div>
            Số điện thoại:
          </div>
          <input id="user_tel_num" type="tel" required />
        </div>
        
        <div>
          <div>
            Chức vụ:
          </div>
          <div>
            1. Học sinh, sinh viên
          </div>
          <div>
            2. Cán bộ
          </div>
          <div>
            3. Công chức, viên chức
          </div>
          <div>
            4. Người dân
          </div>
          <input id="user_chucvu" required />
        </div>
        
        <div>
          <div>
            Đơn vị:
          </div>
          <div>
            1. Tên trường
          </div>
          <div>
            2. Tên cơ quan, đơn vị
          </div>
          <div>
            3. Tên công ty
          </div>
          <input id="user_address" required />
        </div>
        
        <div>
          <div>
            Địa chỉ thường trú:
          </div>
          <input id="user_ress" required />
        </div>
        
        <div>
          <div>
            Dự đoán số lượt tham gia:
          </div>
          <input id="user_prediction" required />
        </div>
        
        <input type="submit" value="Tham gia cuộc thi" />
      </form>
    </div>
    <div class="content" hidden>
      <h3>Thời gian: <span id="time"></span></h3>
      <h1 id="question">
        askdjf polasdmfljfkolasd + jksdlfajfldsa = ?
      </h1>
      <div class="options">
        <button id="ans_1">
          A. 34oit0234u8t903u8i4560
        </button>
        <button id="ans_2">
          B. o0-2w3e4irt90-234it0-3
        </button>
        <button id="ans_3">
          C. 2i034ur0f234j890rt2834
        </button>
        <button id="ans_4">
          D. 90234o8irv90w34j8tv903
        </button>
      </div>
      <h3 id="point">
        awsdjikfkolajdfklasd: 0/10
      </h3>
    </div>
    <script>
      const questions = [
        {
          title:
            "Câu 1: Trong phong trào phá ấp chiến lược, bộ đội đặc công đã đánh 2 trận lớn ở thị xã Tuy Hòa, làm suy yếu địch và hỗ trợ cho quần chúng nổi dậy phá ấp chiến lược vào tháng , năm nào ?",
          answer1: "9/1964",
          answer2: "10/1964",
          answer3: "11/1964",
          answer4: "12/1964",
          answer: 1 
        },
        {
          title:
            "Câu 2: Dưới sự chỉ đạo của Tỉnh ủy Phú Yên, khắp các huyện, thị, nhân dân liên tục nổi dậy tấn công địch phá ấp chiến lược, mở rộng vùng giải phóng, xây dưng chính quyền cách mạng và tạo thế vây ép địch ở thị xã Tuy Hòa vào thời gian nào ?",
          answer1: "Đầu năm 1964",
          answer2: "Cuối năm 1964",
          answer3: "Đầu năm 1965",
          answer4: "Cuối năm 1965",
          answer: 2
        },
        {
          title:
            "Câu 3: Câu 3: Đồng chí nào được Ban Thường vụ Tỉnh ủy họp phân công phụ trách địa bàn thị xã và Tuy Hòa 2 để thực hiện chiến dịch tổng tiến công và nổi dậy năm 1975 trên địa bàn tỉnh Phú Yên ?",
          answer1: "Xuân Diệu",
          answer2: "Nguyễn Duy Luân ",
          answer3: "Nguyễn Hữu Ái",
          answer4: "Ông Văn Bưu",
          answer: 0
        },
        {
          title:
            "Câu 4: Ngày 5/10/1930, chi bộ cộng sản đầu tiên ở Phú Yên được thành lập ở Đồng Bé làng Phước Long (nay là xã Sơn Long huyện Đồng Xuân). Đồng chí Bí thư chi bộ là ai ?",
          answer1: "Phan Lưu Thanh",
          answer2: "Bùi Xuân Cảnh",
          answer3: "Nguyễn Đức Thạnh",
          answer4: "Phan Thanh Cưu", 
          answer: 0
        },
        {
          title:
            "Câu 5: Ngày 24-11-1931 tại chùa Bà (chùa Tàu) dưới chân núi Nhạp Tháp, nhân dịp nhân dân viếng chùa rằm tháng 10 Tân Hợi, đồng chí Phạm Ngọc Bích tổ chức thành lập chi bộ Đảng cộng sản đầu tiên ở Tuy Hòa gồm bao nhiêu người ? Ai được cử làm bí thư chi bộ ?",
          answer1: "3 người, đồng chí Lê Tấn Thăng làm bí thư chi bộ",
          answer2: "4 người, đồng chí Trương Nở làm bí thư chi bộ",
          answer3: "5 người, đồng chí Trương Mộng Quyền làm bí thư chi bộ",
          answer4: "5 người, đồng chí Trương Nở làm bí thư chi bộ",
          answer: 3
        },
        {
          title:
            "Câu 6: Đoàn thanh niên dân chủ ở Tuy Hòa được thành lập tại làng Nho Lâm. Hạt nhân của đoàn là các đảng viên cộng sản ở 2 chi bộ Nho Lâm và Long Tường - Phụng Tường vào năm nào ?",
          answer1: "Cuối năm 1937",
          answer2: "Đầu năm 1938",
          answer3: "Cuối năm 1938",
          answer4: "Đầu năm 1939",
          answer: 2
        },
        {
          title:
            "Câu 7: Sau hội nghị Tỉnh ủy, mọi công tác được tiến hành khẩn trương trong toàn tỉnh. Các đồng chí nào được phân công về chỉ đạo phong trào thị xã Tuy Hòa ?",
          answer1: "Lê Văn Thành và Lê Đài",
          answer2: "Lê Duy Hình và Lê Đài",
          answer3: "Lê Đài và Văn Gói",
          answer4: "Lê Văn Thành và Lê Duy Hình",
          answer: 3
        },
        {
          title:
            "Câu 8: Trên cơ sở phát triển của các chi bộ Đảng, đòi hỏi phải có sự lãnh đạo thống nhất và có hiệu quả hơn, phủ ủy Tuy Hòa được thành lập vào tháng ...năm... . Đồng chí .... được cử làm bí thư phủ ủy.",
          answer1: "Tháng 11/1937. Phan Lưu Thanh",
          answer2: "Tháng 11/1937. Phan Văn Dự",
          answer3: "Tháng 9/1937. Phan Văn Dự",
          answer4: "Tháng 9/1937. Phan Lưu Thanh",
          answer: 1
        },
        {
          title:
            "Câu 9: Chiến dịch ÁtLăng ở Phú Yên của thực dân Pháp được chia ra làm mấy bước ?",
          answer1: "2",
          answer2: "3",
          answer3: "4",
          answer4: "5",
          answer: 1
        },
        {
          title:
            "Câu 10: Ngày .../.../1954 ta mở trận phục kích ở Đèo Cả. Phá hủy 79 xe, diệt và bắt sống gần 200 tên địch, khóa chặt Đèo Cả cắt đứt con đường vận chuyển tiếp tế cho địch ở thị xã Tuy Hòa.",
          answer1: "23/6",
          answer2: "24/6",
          answer3: "25/6",
          answer4: "26/6",
          answer: 2
        },
        {
          title:
            "Câu 11: Cuộc giải thoát Luật sư Nguyễn Hữu Thọ khỏi nơi quản chế ở Thị xã Tuy Hòa ra khỏi vùng căn cứ lần thứ 3 vào tháng, năm nào ?",
          answer1: "8/1960",
          answer2: "8/1961",
          answer3: "9/1960",
          answer4: "9/1961",
          answer: 1
        },
        {
          title:
            "Câu 12: Dưới sự lãnh đạo của Đảng, phong trào đấu tranh chính trị, vũ trang và phá ấp chiến lược của nhân dân thị xã Tuy Hòa diễn ra vào thời gian nào ?",
          answer1: "Từ 1961 đến 1964",
          answer2: "Từ 1961 đến 1965",
          answer3: "Từ 1961 đến 1966",
          answer4: "Từ 1961 đến 1967",
          answer: 1
        },
        {
          title:
            "Câu 13: Mục tiêu tổng quát: Tiếp tục xây dựng Đảng bộ trong sạch, vững mạnh; phát huy dân chủ và sức mạnh đại đoàn kết toàn dân tộc; ra sức phát triên kinh tế xã hội nhanh, bền vững theo hướng công nghiệp hóa, hiện đại hóa; xây dựng thành phố Tuy Hòa trở thành thành phố loại II. Nêu ở Đại hội Đảng bộ Thành phố lần thứ mấy ?",
          answer1: "Đại hội lần thứ XIII nhiệm kỳ 2005-2010",
          answer2: "Đại hội lần thứ XIV nhiệm kỳ 2010-2015",
          answer3: "Đại hội lần thứ XV nhiệm kỳ 2015-2020",
          answer4: "Đại hội lần thứ XVI nhiệm kỳ 2020-2025",
          answer: 1
        },
        {
          title:
            "Câu 14: Câu 14: Số lần giải thoát Luật sư Nguyễn Hữu Thọ khỏi nơi quản chế tại Thị xã Tuy Hòa về căn cứ an toàn ?",
          answer1: "1 lần",
          answer2: "2 lần",
          answer3: "3 lần",
          answer4: "4 lần",
          answer: 2
        },
        {
          title:
            "Câu 15: Đồng chí nào sau đây được Hội nghị Tỉnh ủy ngày 10, 11/8/1955 phân công về chỉ đạo phong trào thị xã Tuy Hòa ?",
          answer1: "Lê Văn Thành và Lê Duy Hình",
          answer2: "Lê Văn Thành và Lê Đài",
          answer3: "Lê Duy Hình và Lê Đài",
          answer4: "Lê Đài và Văn Gói",
          answer: 0
        }
      ];

      const startScreen = document.querySelector(".start");
      const informationScreen = document.querySelector(".information");
      const quizScreen = document.querySelector(".content");

      const continueElement = document.querySelector("#continue");
      continueElement.addEventListener("click", () => {
        startScreen.hidden = true;
        informationScreen.hidden = false;
      });

      let names = "";
      let tel_num = "";
      let address = "";
      let prediction = "";
      let ress = "";
      let chucvu = "";

      const formElement = document.querySelector("#user_information");
      formElement.addEventListener("submit", event => {
        event.preventDefault();
        const nameElement = document.querySelector("#user_name");
        const telNumElement = document.querySelector("#user_tel_num");
        const chucvuElement = document.querySelector("#user_chucvu")
        const addressElement = document.querySelector("#user_address");
        const ressElement = document.querySelector("#user_ress");
        const predictionElement = document.querySelector("#user_prediction");

        names = nameElement.value;
        tel_num = telNumElement.value;
        chucvu = chucvuElement.value;
        address = addressElement.value;
        prediction = predictionElement.value;
        ress = ressElement.value;

        informationScreen.hidden = true;
        quizScreen.hidden = false;

        quiz();
      });

      let score = 0;
      let time = 0;

      const quiz = () => {
        const questionElement = document.querySelector("#question");
        const answer1Element = document.querySelector("#ans_1");
        const answer2Element = document.querySelector("#ans_2");
        const answer3Element = document.querySelector("#ans_3");
        const answer4Element = document.querySelector("#ans_4");
        const pointElement = document.querySelector("#point");
        const timeElement = document.querySelector("#time");

        const startTime = (Date.now() / 1000) | 0;

        const displayTime = () => {
          const currentTime = (Date.now() / 1000) | 0;

          const secondsElapsed = currentTime - startTime;
          time = secondsElapsed;

          const seconds = secondsElapsed % 60;
          const minutes = (secondsElapsed / 60) | 0;

          if (minutes > 0)
            timeElement.textContent = `${minutes} phút ${seconds} giây`;
          else timeElement.textContent = `${seconds} giây`;
        };

        const interval = setInterval(displayTime, 1000);
        displayTime();

        let questionNumber = 0;

        const displayQuestion = question => {
          questionElement.textContent = question.title;
          answer1Element.textContent = "A. " + question.answer1;
          answer2Element.textContent = "B. " + question.answer2;
          answer3Element.textContent = "C. " + question.answer3;
          answer4Element.textContent = "D. " + question.answer4;

          const accepted = () => {
            score++;
            nextQuestion();
          };

          const wrongAnswerOnTest2 = () => {
            nextQuestion();
          };

          const handleAnswer1 = () => {
            if (question.answer === 0) {
              accepted();
            } else {
              wrongAnswerOnTest2();
            }
          };

          const handleAnswer2 = () => {
            if (question.answer === 1) {
              accepted();
            } else {
              wrongAnswerOnTest2();
            }
          };

          const handleAnswer3 = () => {
            if (question.answer === 2) {
              accepted();
            } else {
              wrongAnswerOnTest2();
            }
          };

          const handleAnswer4 = () => {
            if (question.answer === 3) {
              accepted();
            } else {
              wrongAnswerOnTest2();
            }
          };

          const nextQuestion = () => {
            answer1Element.removeEventListener("click", handleAnswer1);
            answer2Element.removeEventListener("click", handleAnswer2);
            answer3Element.removeEventListener("click", handleAnswer3);
            answer4Element.removeEventListener("click", handleAnswer4);

            questionNumber++;

            if (questionNumber === questions.length) {
              questionElement.remove();
              answer1Element.remove();
              answer2Element.remove();
              answer3Element.remove();
              answer4Element.remove();

              pointElement.hidden = false;
              pointElement.textContent = `Bạn đã đạt được ${score}/${questions.length} điểm. Cảm ơn bạn đã tham gia cuộc thi.`;

              clearInterval(interval);

              sendData();
              return;
            }

            displayQuestion(questions[questionNumber]);
          };

          answer1Element.addEventListener("click", handleAnswer1);
          answer2Element.addEventListener("click", handleAnswer2);
          answer3Element.addEventListener("click", handleAnswer3);
          answer4Element.addEventListener("click", handleAnswer4);

          pointElement.hidden = true;
        };

        displayQuestion(questions[0]);
      };

      const sendData = () => {
        const urlObject = new URL(
          "https://script.google.com/macros/s/AKfycbwp9enR1oTihVn2BRf-91Gni5Rgc6ItWTtzZPr-rq6EMqZ_kMl_yN5IHSsAgPPNG4jtJQ/exec"
        );
        urlObject.searchParams.set("names", names);
        urlObject.searchParams.set("tel_num", tel_num);
        urlObject.searchParams.set("chucvu", chucvu);
        urlObject.searchParams.set("address", address);
        urlObject.searchParams.set("ress", ress);
        urlObject.searchParams.set("prediction", prediction);
        urlObject.searchParams.set("score", score);
        urlObject.searchParams.set("time", time);
        
        fetch(urlObject.toString());
      };
    </script>
  </body>
</html>
